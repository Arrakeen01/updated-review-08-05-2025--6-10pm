# QR Scanner for SPARK Document Management System

This is a standalone QR scanner web application designed to be deployed on Netlify. It allows mobile users to scan QR codes generated by the SPARK system and get redirected to the document upload interface.

## Features

- ðŸ“± Mobile-optimized QR code scanner
- ðŸ“· Camera-based scanning with auto-detection
- ðŸ”’ Secure session handling
- ðŸŽ¨ Modern UI with Tailwind CSS
- âš¡ Fast and lightweight
- ðŸŒ Works on all modern mobile browsers

## Deployment Instructions

### Option 1: Deploy to Netlify (Recommended)

1. **Prepare the files:**
   - Copy this entire `qr-scanner-netlify` folder
   - Zip the contents (not the folder itself, just the files inside)

2. **Deploy to Netlify:**
   - Go to [netlify.com](https://netlify.com)
   - Sign up/login to your account
   - Click "Add new site" > "Deploy manually"
   - Drag and drop the zip file or select files
   - Your site will be deployed with a random URL like `https://amazing-name-123456.netlify.app`

3. **Configure the redirect URL:**
   - Open `index.html` in the deployed site
   - Find line 185: `const baseUrl = 'http://localhost:5173';`
   - Replace `http://localhost:5173` with your main SPARK application URL
   - Re-deploy the updated files

### Option 2: Deploy to Any Static Host

This scanner can be deployed to any static hosting service:
- GitHub Pages
- Vercel
- Firebase Hosting
- AWS S3 + CloudFront
- Any web server

Simply upload the files and update the redirect URL as mentioned above.

## Configuration

### Important: Update the Redirect URL

Before deployment, you MUST update the redirect URL in `index.html`:

```javascript
// Line ~185 in index.html
const baseUrl = 'http://localhost:5173'; // <-- CHANGE THIS
```

Replace with your actual SPARK application URL:
```javascript
const baseUrl = 'https://your-spark-app.com'; // Your actual domain
```

### URL Structure

The scanner expects QR codes with this format:
```
https://your-qr-scanner.netlify.app/?session=SESSION_ID_HERE
```

When scanned, it redirects to:
```
https://your-spark-app.com/mobile-upload?session=SESSION_ID_HERE
```

## Testing

### Local Testing
1. Open `index.html` in a web server (not file://)
2. Use tools like:
   - `python -m http.server 8000`
   - `npx serve .`
   - VS Code Live Server extension

### Mobile Testing
1. Deploy to Netlify (get HTTPS URL)
2. Test on actual mobile devices
3. Ensure camera permissions work correctly

## Browser Support

- âœ… Chrome for Android
- âœ… Safari for iOS
- âœ… Firefox Mobile
- âœ… Edge Mobile
- âœ… Samsung Internet

## Security Features

- HTTPS required for camera access
- Session-based URL validation
- No data storage on the scanner app
- Secure redirect to main application

## Troubleshooting

### Camera Not Working
- Ensure HTTPS is used (HTTP won't work for camera)
- Check browser permissions
- Try different browsers

### QR Code Not Scanning
- Ensure good lighting
- Hold camera steady
- Try moving closer/further from QR code
- Check QR code format is correct

### Redirect Not Working
- Verify the `baseUrl` is correct
- Check that the main app is accessible
- Ensure session parameter is being passed

## File Structure

```
qr-scanner-netlify/
â”œâ”€â”€ index.html          # Main scanner application
â”œâ”€â”€ README.md          # This documentation
â””â”€â”€ .gitignore         # Git ignore file (optional)
```

## Dependencies

All dependencies are loaded via CDN:
- Tailwind CSS (styling)
- html5-qrcode (QR scanning)
- Lucide Icons (icons)

No build process required - just static files!

## Support

For issues related to:
- QR scanning functionality: Check browser console for errors
- Deployment: Refer to your hosting provider's documentation
- Integration: Ensure URLs are correctly configured